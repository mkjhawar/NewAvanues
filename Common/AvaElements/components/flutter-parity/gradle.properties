# Flutter Parity Components - Build Optimization Configuration
# Version: 1.0.0
# Target: APK size <500 KB, 60 FPS performance

##########################
# R8 OPTIMIZATION
##########################
# Enable R8 full mode for aggressive optimization
android.enableR8.fullMode=true

# Enable resource shrinking
android.enableResourceOptimization=true

# Enable code shrinking
android.enableCodeShrinking=true

##########################
# KOTLIN OPTIMIZATION
##########################
# Enable Kotlin compiler optimizations
kotlin.code.style=official
kotlin.incremental=true
kotlin.incremental.multiplatform=true

# Enable Kotlin compiler IR backend
# Deprecated property removed (Kotlin 2.0+): kotlin.mpp.enableGranularSourceSetsMetadata
kotlin.mpp.stability.nowarn=true

##########################
# COMPOSE OPTIMIZATION
##########################
# Enable Compose compiler optimizations
org.jetbrains.compose.experimental.uikit.enabled=true
compose.kotlin.compiler.extension.version=1.5.14

# Enable strong skipping mode (reduces recompositions)
org.jetbrains.compose.experimental.strongSkipping=true

# Enable non-skipping group optimization
org.jetbrains.compose.experimental.nonSkippingGroupOptimization=true

##########################
# BUILD PERFORMANCE
##########################
# Enable parallel builds
org.gradle.parallel=true
org.gradle.configureondemand=true

# Increase memory allocation
org.gradle.jvmargs=-Xmx4g -XX:MaxMetaspaceSize=1g -XX:+HeapDumpOnOutOfMemoryError

# Enable build cache
org.gradle.caching=true
org.gradle.unsafe.configuration-cache=true

##########################
# DEX OPTIMIZATION
##########################
# Enable DEX optimization
android.enableDexingArtifactTransform=true
android.enableDexingArtifactTransform.desugaring=true

# Multiplatform DEX
android.useAndroidX=true
android.enableJetifier=false

##########################
# PERFORMANCE TARGETS
##########################
# APK size budget: 500 KB
# Animation FPS target: 60 FPS
# Scroll performance: 60 FPS @ 100K items
# Memory budget: 100 MB
# Test coverage: 90%+

##########################
# FEATURE FLAGS
##########################
# Enable performance monitoring
flutter.parity.performance.monitoring=true

# Enable memory pooling
flutter.parity.memory.pooling=true

# Enable predictive prefetching
flutter.parity.prefetch.enabled=true

# Enable hardware acceleration
flutter.parity.hardware.acceleration=true
