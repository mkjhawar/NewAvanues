-- Migration: Add appId column to commands_generated table
-- Version: 1 -> 2
-- Date: 2025-12-13
-- Description: Adds appId column to enable package-based pagination

-- Add appId column with default empty string for backward compatibility
ALTER TABLE commands_generated ADD COLUMN appId TEXT NOT NULL DEFAULT '';

-- Create index for efficient package-based queries
CREATE INDEX IF NOT EXISTS idx_gc_app_id ON commands_generated(appId, id);
